<img class="backgroundLogo" src="../images/logo.png" alt="Logo chatbuddy's">

<div id="chatWrapper">

    <div id="topbar">
        <div id="info">
            <h1>{{username}} <span id="logout" ng-click="logout()"><i class="fa fa-lock"></i></span></h1>
            <div id="notification">
                <h3>Enable notifications</h3>
                <div id="slider">
                    <div id="sliderPosition" ng-class="{foo: enableNotifications}" ng-click="changeSlider()"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="sidebar">
        <h3>Online:</h3>
        <div id="usersOnline" class="slimScroll">
            <div ng-repeat="user in usersOnline | orderBy: 'username'">
                <span class="loginAnimate"></span><h3>{{user.username}}</h3>
            </div>
        </div>
    </div>

    <div id="messageWindow" class="slimScroll">
        <div id="allMessages">
            <ol>
                <li ng-repeat="message in messages | orderBy: date: true">
                    <div ng-class=message.from>
                        <div class="balloon">
                            <h4>{{message.author}}</h4>
                            <span>{{message.date}}</span>
                            <p ng-show="message.body" ng-bind-html="trustAsHtml(message.body)">{{message.body}}</p>
                            <a ng-show="message.filePath" ng-href="{{message.filePath}}" target="_self" download>{{message.fileName}}</a>
                        </div>
                    </div>
                </li>
            </ol>
        </div>
    </div>
    <div id="livetyping" ng-show="usersTyping.length">
        <span ng-repeat="user in usersTyping">
            {{user.username}}{{$last ? '' : ($index==usersTyping.length-2) ? ' and ' : ', '}}
        </span>
        <span ng-show="usersTyping.length === 1">is typing</span>
        <span ng-show="usersTyping.length > 1">are typing</span>
        <span class="dotanimate">
            <span>.</span> <span>.</span> <span>.</span>
        </span>
    </div>

    <div id="bottombar">
        <div id="media">
            <i ng-class="fa_icon" ng-click="requestMicrophone()"></i>
            <i class="fa fa-video-camera fa-2x" ng-click="requestCamera()"></i>
            <i class="fa fa-paperclip fa-2x" ng-click="openFile()"></i>
            <input type="file" id="target" hidden onchange="confirmupload(this.files)" file-model="selectedFile">
        </div>
        <div id="textbar">
            <input type="text" id="messageField" placeholder="Write a message..." ng-keyup="update($event)" ng-model="message">
        </div>
    </div>

</div>